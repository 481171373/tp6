>* 版本: 1.0
>* 日期: 2020/4/21
# 登录退出修改验证API
## 极验初始验证
### 接口信息

描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
极验初始验证 | http  | post | /index/CaptchaService/startCaptcha | json

### 返回数据
```
{
    "success": 1,
    "gt": "4b723bdfbeea990be5e3c96706a53b91",
    "challenge": "1cf9a34489c5c17e6b57bab929eeb38e",
    "new_captcha": 1,
    "code": 1,
    "msg": "成功"
}

```
***
## 获取验证码
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
获取验证码 | http  | 不限 | /index/captcha | 图片

***
## 登录
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
登录 | http  | post | /index/login | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
username | 是 | 否 | 账号 | 18955333313
password | 是 | 否 | 密码 | 123456
captcha | 否 | 否 | 验证码 | 3313
geetest_challenge | 否 | 否 | 极验参数 | 
geetest_validate | 否 | 否 | 极验参数 | 
geetest_seccode | 否 | 否 | 极验参数 | 

### 返回数据
```
{
    "code": 1,
    "msg": "成功",
    "data": [
        {
            "power": "thmuF5CuP0axUmIunYxLM=", 
            "token": "fPYvEdEA4Ha1B2oK+s=",
            "id": 1,
            "username": "18955333313",     账号
            "nickname": "合伙人测试账号",  名称
            "avatar": "",         头像
            "company_id": null,   企业id
            "create_time": "2020-04-16 19:50:09",
            "expired_status": 1  //1未过期 0过期
        }
    ]
}

```

---
## 密码修改
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
密码修改 | http  | post | /index/CommonAdminInfo/update | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
nickname | 是 | 否 | 姓名 | 陈总
password | 是 | 否 | 密码 | 123456
avatar | 否 | 否 | 头像地址 | /uploads/index/d1d.png

### 返回数据

```
{
    "code": 1,
    "msg": "更新成功",
    "data": []
}
```

---
## 图片上传
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
图片上传 | http  | post | /index/CommonAdminInfo/image | 
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
image | 是 | 否 | 图片名称 | 

---
# 代理商
## 代理商列表
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
代理商列表 | http  | post | /index/PnAgentManage/index | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
pagesize | 是 | 否 | 页面大小 | 10
page | 是 | 否 | 当前页 | 1
package_id | 否 | 否 | 套餐id | 1
name | 否 | 否 | 代理商姓名 | 陈总
### 数据返回

```
{
    "code": 1,
    "msg": "成功",
    "data": {
        "total": 1,
        "per_page": 10,
        "current_page": 1,
        "last_page": 1,
        "data": [
            {
                "id": 2,
                "admin_id": 3,              关联登录id
                "company_name": "融泽",     企业名称
                "name": "老杨",             代理商姓名
                "phone": "18955333314",     代理商电话
                "start_time": 1599580800,   开始时间
                "expired_time": 1602172800, 结束时间
                "retail_addr": "浙江省杭州市余杭区崇杭街承安源翠府", 地址
                "package_id": 2,            套餐id
                "package_name": "钻石王老五",套餐名称
                "package_num": 10000,       套餐坐席数量
                "package_use_num": 0,       已使用坐席数量
                "is_del": 0,
                "create_time": "2020-09-08 11:58:35"
            }
        ]
    }
}
```

---
## 代理商添加
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
代理商添加 | http  | post | /index/PnAgentManage/add | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
company_name | 是 | 否 | 代理商公司名称 | 融泽科技
name | 是 | 否 | 代理商姓名 | 陈总
phone | 是 | 否 | 代理商电话 | 18955333313
start_time | 是 | 否 | 有效开始时间 | 2020-09-08
expired_time | 是 | 否 | 有效结束时间 | 2020-09-08
package_id | 是 | 否 | 套餐id | 1
retail_addr | 是 | 否 | 详细地址 | 浙江省杭州市余杭区崇杭街承安源翠府
password | 是 | 否 | 密码 | 123456
### 数据返回
```
{
    "code": 1,
    "msg": "成功",
    "data":
}
```

---
## 代理商编辑
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
代理商添加 | http  | post | /index/PnAgentManage/edit | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
company_name | 是 | 否 | 代理商公司名称 | 融泽科技
name | 是 | 否 | 代理商姓名 | 陈总
phone | 是 | 否 | 代理商电话 | 18955333313
start_time | 是 | 否 | 有效开始时间 | 2020-09-08
expired_time | 是 | 否 | 有效结束时间 | 2020-09-08
package_id | 是 | 否 | 套餐id | 1
retail_addr | 是 | 否 | 详细地址 | 浙江省杭州市余杭区崇杭街承安源翠府
admin_id | 是 | 否 | 关联登录id | 1
id | 是 | 否 | 代理商主键id | 1
### 数据返回
```
{
    "code": 1,
    "msg": "更新成功",
    "data":
}
```

---
## 编辑查询
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
编辑查询 | http  | post | /index/PnAgentManage/find | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
id | 是 | 否 | 主键id | 1
### 数据返回
```
{
    "code": 1,
    "msg": "成功",
    "data": {
       "id": 2,
        "admin_id": 3,              关联登录id
        "company_name": "融泽",     企业名称
        "name": "老杨",             代理商姓名
        "phone": "18955333314",     代理商电话
        "start_time": 1599580800,   开始时间
        "expired_time": 1602172800, 结束时间
        "retail_addr": "浙江省杭州市余杭区崇杭街承安源翠府", 地址
        "package_id": 2,            套餐id
        "package_name": "钻石王老五",套餐名称
        "package_num": 10000,       套餐坐席数量
        "package_use_num": 0,       已使用坐席数量
        "is_del": 0,
        "create_time": "2020-09-08 11:58:35"
    }
}
```

---
## 代理商删除
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
删除代理商 | http  | post | /index/PnAgentManage/delete | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
id | 是 | 否 | 主键 | 1
### 数据返回
```
{
    "code": 1,
    "msg": "删除成功",
    "data":
}
```

---
# 代理商套餐
## 套餐列表
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
套餐列表 | http  | post | /index/PnPackageManage/index | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
pagesize | 是 | 否 | 页面大小 | 1
page | 是 | 否 | 当前页 | 1
name | 否 | 否 | 套餐名 | 唧唧
### 数据返回
```
{
    "code": 1,
    "msg": "成功",
    "data": {
        "total": 1,
        "per_page": 10,
        "current_page": 1,
        "last_page": 1,
        "data": [
            {
                "id": 2,
                "name": "钻石王老五",  套餐名称
                "price": "10000.00",   套餐价格
                "num": 10000           坐席数
            }
        ]
    }
}
```
---

## 套餐添加
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
套餐添加 | http  | post | /index/PnPackageManage/add | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
name | 是 | 否 | 套餐名称 | 钻石
price | 是 | 否 | 价格 | 100
num | 是 | 否 | 坐席数量 | 10
### 数据返回
```
{
    "code": 1,
    "msg": "成功",
    "data":
}
```

---
## 套餐编辑
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
套餐编辑 | http  | post | /index/PnPackageManage/edit | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
id | 是 | 否 | 主键 | 1
name | 否 | 否 | 套餐名称 | 钻石
price | 否 | 否 | 价格 | 100
num | 否 | 否 | 坐席数量 | 10
### 数据返回
```
{
    "code": 1,
    "msg": "更新成功",
    "data":
}
```

---
## 编辑查询
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
编辑查询 | http  | post | /index/PnPackageManage/find | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
id | 是 | 否 | 主键id | 1
### 数据返回
```
{
    "code": 1,
    "msg": "成功",
    "data": {
        "id": 2,
        "name": "钻石王老五",  套餐名称
        "price": "10000.00",   套餐价格
        "num": 10000           坐席数
        "is_delete": 1,
        "create_time": "2020-09-08 09:57:01"
    }
}
```

---
## 套餐删除
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
套餐删除 | http  | post | /index/PnPackageManage/delete | json
### 请求参数
参数 | 是否必传 | 可否为空 | 说明   | 示例
---|---|---|---|---|
id | 是 | 否 | 主键 | 1
### 数据返回
```
{
    "code": 1,
    "msg": "删除成功",
    "data":
}
```

---
## 套餐类别选择
### 接口信息
描述 | 协议 | 请求方式 | 请求地址 | 数据返回格式
---|---|---|---|---|
套餐编辑 | http  | post | /index/PnPackageManage/class | json
### 数据返回

```
{
    "code": 1,
    "msg": "成功",
    "data": [
        {
            "id": 2,
            "name": "钻石王老五",  套餐名称
            "price": "10000.00",   套餐价格
            "num": 10000           坐席数
        }
    ]
}
```